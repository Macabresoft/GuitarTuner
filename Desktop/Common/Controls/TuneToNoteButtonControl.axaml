<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Macabresoft.GuitarTuner.Desktop.Common"
             x:Class="Macabresoft.GuitarTuner.Desktop.Common.TuneToNoteButtonControl">
    <UserControl.Resources>
        <local:EqualsConverter x:Key="EqualsConverter" />
    </UserControl.Resources>
    <ToggleButton Content="{Binding $parent[local:TuneToNoteButtonControl].Note.Name, FallbackValue='Auto'}"
                  Command="{Binding $parent[local:TuneToNoteButtonControl].SelectNoteCommand}"
                  CommandParameter="{Binding $parent[local:TuneToNoteButtonControl].Note}"
                  CornerRadius="20"
                  HorizontalContentAlignment="Center"
                  VerticalContentAlignment="Center"
                  MinHeight="40"
                  MinWidth="40">
        <ToggleButton.IsChecked>
            <MultiBinding Converter="{StaticResource EqualsConverter}">
                <Binding Path="$parent[local:TuneToNoteButtonControl].Note" />
                <Binding Path="$parent[local:TuneToNoteButtonControl].SelectedNote" />
            </MultiBinding>
        </ToggleButton.IsChecked>
    </ToggleButton>
</UserControl>